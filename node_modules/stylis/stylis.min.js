!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e()):window.stylis=e()}(function(){"use strict";function e(c,r,f,n){for(var l,o,d=0,u=0,k=0,g=0,p=0,w=0,A=0,m=0,v=0,C=0,O=0,y=0,j=0,z=0,F=0,R=0,T=0,we=0,Ae=f.length,Ce=Ae-1,$e="",Oe="",We="",qe="",De="",Ee="";z<Ae;){if(A=f.charCodeAt(z),u+g+k+d===0){if(1===R){switch(A){case V:break;default:z--,A=W}R=0}if(z===Ce){if(F>0)Oe=Oe.replace(b,"");if((Oe=Oe.trim()).length>0){switch(A){case P:case L:case W:case K:case J:break;default:Oe+=f.charAt(z)}A=W}}switch(A){case D:for(Oe=Oe.trim(),p=Oe.charCodeAt(0),C=1,z++;z<Ae;){switch(A=f.charCodeAt(z)){case D:C++;break;case q:C--}if(0===C)break;We+=f.charAt(z++)}if(p===se)p=(Oe=Oe.replace(h,"").trim()).charCodeAt(0);switch(p){case M:if(F>0)Oe=Oe.replace(b,"");if(w=Oe.charCodeAt(1),We=e(r,w>108?r:ve,We,w),xe>0)if(l=a(ve,Oe,T),o=i(Fe,We,l,r,ue,de,qe.length),Oe=l.join(""),void 0!==o)We=o;switch(w){case fe:case ne:We=Oe+"{"+We+"}";break;case le:We=Oe+We;break;case ie:Oe=Oe.replace(x,"$1 $2"+(Be>0?Se:"")),We=Oe+"{"+We+"}",We="@"+(pe>0?N+We+"@"+We:We)}break;default:We=e(r,a(r,Oe,T),We,n)}De+=We,z++,O=0,j=0,F=0,T=0,y=0,Oe="",We="";break;case q:case W:if(Oe=(F>0?Oe.replace(b,""):Oe).trim(),A!==q||Oe.length>0){if(xe>0)if(void 0!==(o=i(je,Oe,r,c,ue,de,qe.length)))if(0===(Oe=o.trim()).length)Oe="\0\0";switch(p=Oe.charCodeAt(0),w=Oe.charCodeAt(1),p+w){case se:break;case he:case be:Ee+=Oe+f.charAt(z);break;default:qe+=j>0?s(Oe,p,w,Oe.charCodeAt(2)):Oe+";"}}z++,O=0,j=0,F=0,T=0,Oe=""}}switch(A){case K:case J:if(u+g+k+d+me===0)switch(m){case X:case V:case se:case L:case K:case J:case P:case W:case D:case q:break;default:if(j>0)R=1}if(u===_)u=0;if(xe*Ne>0)i(ye,Oe,r,c,ue,de,qe.length);de=1,ue++;break;default:if(de++,A===L)break;switch($e=f.charAt(z),A){case se:$e="\\0";break;case re:$e="\\f";break;case te:$e="\\v";break;case Q:if(g+u+d===0&&ge*m===P)T=1,F=1,$e="\f"+$e;break;case 108:if(g+u+d+ke===0&&j>0&&z-j===2)if(m!==oe||f.charCodeAt(z-3)===X)ke=m;break;case X:if(g+u+d===0)j=z;break;case V:if(u+k+g+d===0)T=1,F=1,$e+="\r";break;case Z:if(0===u)g=g===Z?0:0===g?Z:g;break;case Y:if(0===u)g=g===Y?0:0===g?Y:g;break;case H:if(g+u+k===0)d=1;break;case I:if(g+u+k===0)d=0;break;case G:if(g+u+d===0){if(z===Ce)Ce++,Ae++;k--}break;case E:if(g+u+d===0){if(0===O)switch(2*m+3*v){case 533:break;default:C=0,O=1}k++}break;case M:if(u+k+g+d+j+y===0)y=1;break;case U:case _:if(g+d+k>0)break;switch(u){case 0:switch(2*A+3*f.charCodeAt(z+1)){case 235:u=_;break;case 220:u=U}break;case U:if(A===_&&m===U)$e="",u=0}}if(0===u){if(ge+g+d+y===0&&n!==ie&&A!==W)switch(A){case V:case ce:case ee:case ae:case G:case E:if(0===O){switch(m){case L:case P:case J:case K:$e+="\0";break;default:$e="\0"+$e+(A===V?"":"\0")}F=1}else switch(A){case E:O=++C;break;case G:if(0===(O=--C))F=1,$e+="\0"}break;case P:switch(m){case se:case D:case q:case W:case V:case re:case L:case P:case J:case K:break;default:if(0===O)F=1,$e+="\0"}}Oe+=$e}}v=m,m=A,z++}if(we=qe.length,we>0&&xe>0)if(o=i(ze,qe,r,c,ue,de,we),void 0!==o)we=(qe=o).length;if(we>0){if(0===ge&&n!==ie)t(r);switch(qe=r.join(",").trim()+"{"+qe+"}",ke){case 0:break;case oe:if(pe>0)qe=qe.replace($,"::"+N+"input-$1")+qe.replace($,"::"+B+"$1")+qe.replace($,":"+S+"input-$1")+qe;default:ke=0}}return Ee+qe+De}function a(e,a,s){var r=a.trim().split(A),t=r,i=r.length,f=e.length;switch(f){case 0:case 1:for(var n=0,l=0===f?"":e[0]+" ";n<i;n++)t[n]=c(t[n],l,f,s).trim();break;default:for(var n=0,o=0,t=[];n<i;n++)for(var h=0;h<f;h++)t[o++]=c(r[n],e[h]+" ",f,s).trim()}return t}function c(e,a,c,s){var r=e,t=a,i=r.charCodeAt(0);if(i<33)i=(r=r.trim()).charCodeAt(0);switch(i){case Q:switch(ge+c){case 0:case 1:if(0===a.trim().length)break;default:return r.replace(m,t.trim())}break;case X:switch(r.charCodeAt(1)){case 103:if(we>0&&ge>0)return r.replace(C,"$1").replace(m,qe);break;default:return t.trim()+r}default:if(s*ge>0&&(i=r.indexOf("\f"))>0)return t.replace(qe,"").trim()+" "+r.substring(0,i)+qe+r.substring(i+2)}return t+r}function s(e,a,c,s){var t,i=e+";",f=0,n=2*a+3*c+4*s;if(944===n)i=r(i);else if(pe>0)switch(n){case 883:if(i.charCodeAt(8)===R)i=N+i+i;break;case 978:i=N+i+B+i+i;break;case 1019:case 983:i=N+i+B+i+S+i+i;break;case 932:i=N+i+S+i+i;break;case 964:i=N+i+S+"flex-"+i+i;break;case 1023:t=i.substring(i.indexOf(":",15)).replace("flex-",""),i=N+"box-pack"+t+N+i+S+"flex-pack"+t+i;break;case 975:switch(f=(i=e).length-10,t=(33===i.charCodeAt(f)?i.substring(0,f):i).substring(8).trim(),n=t.charCodeAt(0)+(0|t.charCodeAt(7))){case 203:if(t.charCodeAt(8)>110)i=i.replace(t,N+t)+";"+i;break;case 207:case 102:i=i.replace(t,N+(n>102?"inline-":"")+"box")+";"+i.replace(t,N+t)+";"+i.replace(t,S+t+"box")+";"+i}i+=";";break;case 938:if(i.charCodeAt(5)===R)switch(i.charCodeAt(6)){case 105:t=i.replace("-items",""),i=N+i+N+"box-"+t+S+"flex-"+t+i;break;case 115:i=N+i+S+"flex-item-"+i.replace("-self","")+i;break;default:i=N+i+S+"flex-line-pack"+i.replace("align-content","")+i}break;case 1005:if(u.test(i))i=i.replace(d,": "+N)+i.replace(d,": "+B)+i;break;case 953:if((f=i.indexOf("-content",9))>0)t=i.substring(f-3),i="width:"+N+t+"width:"+B+t+"width:"+t;break;case 962:case 1015:if(i=N+i+(102===i.charCodeAt(5)?S+i:"")+i,c+s===211&&105===i.charCodeAt(13)&&i.indexOf("transform",10)>0)i=i.substring(0,i.indexOf(";",27)+1).replace(k,N+"$1")+i}return i}function r(e){var a=e.length,c=e.indexOf(":",9)+1,s=e.substring(0,c).trim(),r=e.substring(c,a-1).trim(),t="";if(e.charCodeAt(9)!==R)for(var i=r.split(g),f=0,c=0,a=i.length;f<a;c=0,f++){for(var n=i[f],l=n.split(p);n=l[c];){var o=n.charCodeAt(0);if(1===Be&&(o>M&&o<90||o>96&&o<122||o===T||o===R&&n.charCodeAt(1)!==R))switch(isNaN(parseFloat(n))+(n.indexOf("(")!==-1)){case 1:switch(n){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reversed":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:n+=Se}}l[c++]=n}t+=(0===f?"":",")+l.join(" ")}else t+=110===e.charCodeAt(10)?r+(1===Be?Se:""):r;return t=s+t+";",pe>0?N+t+t:t}function t(e){for(var a,c,s=0,r=e.length;s<r;s++){for(var t=e[s].split(w),i="",f=0,n=0,l=0,o=0,h=t.length;f<h;f++){if(0===(n=(c=t[f]).length)&&h>1)continue;if(l=i.charCodeAt(i.length-1),o=c.charCodeAt(0),a="",0!==f)switch(l){case U:case ce:case ee:case ae:case P:case E:break;default:a=" "}switch(o){case Q:c=a+We;case ce:case ee:case ae:case P:case G:case E:break;case H:c=a+c+We;break;case X:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(we>0){c=a+c.substring(8,n-1);break}default:if(f<1||t[f-1].length<1)c=a+We+c}break;case V:a="";default:if(n>1&&c.indexOf(":")>0)c=a+c.replace(F,"$1"+We+"$2");else c=a+c+We}i+=c}e[s]=i.replace(b,"").trim()}}function i(e,a,c,s,r,t,i){for(var f,n=0,l=a;n<xe;n++)switch(f=Ce[n].call(o,e,l,c,s,r,t,i)){case void 0:case false:case true:case null:break;default:l=f}switch(l){case void 0:case false:case true:case null:case a:break;default:return l}}function f(e){return e.replace(b,"").replace(O,"").replace(y,"$1").replace(j,"$1").replace(z," ")}function n(e){switch(e){case void 0:case null:xe=Ce.length=0;break;default:switch(e.constructor){case Array:for(var a=0,c=e.length;a<c;a++)n(e[a]);break;case Function:Ce[xe++]=e;break;case Boolean:Ne=0|!!e}}return n}function l(e){for(var a in e){var c=e[a];switch(a){case"keyframe":Be=0|c;break;case"global":we=0|c;break;case"cascade":ge=0|c;break;case"compress":Ae=0|c;break;case"prefix":pe=0|c;break;case"semicolon":me=0|c}}return l}function o(a,c){var s=a,r=s.charCodeAt(0);if(r<33)r=(s=s.trim()).charCodeAt(0);if(Be>0)Se=s.replace(v,r===H?"":"-");if(r=1,1===ge)qe=s;else We=s;var t=[qe];if(xe>0)i(Oe,c,t,t,ue,de,0);var n=e(ve,t,c,0);if(xe>0){var l=i($e,n,t,t,ue,de,n.length);if(void 0!==l)if("string"!=typeof(n=l))r=0}return Se="",qe="",We="",ke=0,ue=1,de=1,Ae*r===0?n:f(n)}var h=/^\0+/g,b=/[\0\r\f]/g,d=/: */g,u=/zoo|gra/,k=/ *(transform)/g,g=/,+\s*(?![^(]*[)])/g,p=/ +\s*(?![^(]*[)])/g,w=/ *[\0] */g,A=/,\r+?/g,m=/\f?&/g,v=/\W+/g,C=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,x=/@(k\w+s)\s*(\S*)\s*/,$=/::?(place)/g,O=/\s+(?=[{\];=:>])/g,y=/([[}=:>])\s+/g,j=/(\{[^{]+?);(?=\})/g,z=/\s{2,}/g,F=/([^\(])(:+) */g,N="-webkit-",B="-moz-",S="-ms-",W=59,q=125,D=123,E=40,G=41,H=91,I=93,J=10,K=13,L=9,M=64,P=32,Q=38,R=45,T=95,U=42,V=44,X=58,Y=39,Z=34,_=47,ee=62,ae=43,ce=126,se=0,re=12,te=11,ie=107,fe=109,ne=115,le=102,oe=112,he=169,be=163,de=1,ue=1,ke=0,ge=1,pe=1,we=1,Ae=0,me=0,ve=[],Ce=[],xe=0,$e=-2,Oe=-1,ye=0,je=1,ze=2,Fe=3,Ne=0,Be=1,Se="",We="",qe="";return o.use=n,o.set=l,o});